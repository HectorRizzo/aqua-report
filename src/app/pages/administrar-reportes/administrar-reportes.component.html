
<div class="main-content">
  <div class="container-fluid">
      <div class="card card-plain">
          <!-- <div class="card-header card-header-danger">
              <h4 class="card-title">Material Design Icons</h4>
              <p class="card-category">Handcrafted by our friends from
                  <a target="_blank" href="https://fonts.google.com/icons">Google</a>
              </p>
          </div> -->
          <div class="row">
            <div class="col-3 d-flex align-items-center justify-content-around"> 
                <span> Categoria </span>
                <div class="dropdown">
                    <button href="#" class="btn dropdown-toggle" data-toggle="dropdown" aria-expanded="true" >
                        <span *ngIf="categoriaSeleccionada!=undefined">
                            {{categoriaSeleccionada.nombre}}
                        </span>
                        <b class="caret"></b>
                    </button>
                    <ul class="dropdown-menu">
                        <li *ngFor="let cat of categoria">
                            <a (click)="changeCategoria(cat)">
                                {{cat.nombre}}
                            </a>
                        </li>
                    </ul>
                </div>
            </div >

            <div class="col-3">

            </div>

            <div  class="col">

            </div>
            <div class="col-2">
                <button mat-raised-button class="btn btn-danger"
                (click)="verMapa()">
                    <span>Ver Mapa</span>
                </button>
            </div>
          </div>
          <div class="row">
              <!-- <div class="col-md-12">
                  <div class="card-body">
                      <div class="iframe-container d-none d-lg-block">
                          <iframe src="https://material.io/design/iconography/system-icons.html#grid-and-keyline-shapes">
                              <p>Your browser does not support iframes.</p>
                          </iframe>
                      </div>
                      <div class="col-md-12 d-none d-sm-block d-md-block d-lg-none d-block d-sm-none text-center ml-auto mr-auto">
                          <h5>The icons are visible on Desktop mode inside an iframe. Since the iframe is not working on Mobile and Tablets please visit the icons on their original page on Google. Check the
                              <a href="https://fonts.google.com/icons" target="_blank">Material Icons</a>
                          </h5>
                      </div>
                  </div>
              </div> -->

              <!-- Tablas-->

            <div class="col-md-12">
                <div class="card">

                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table">
                                <thead class=" text-primary">
                                    <th>
                                        N째 Reporte
                                    </th>
                                    <th class="col-3">
                                        Descripci처n
                                    </th>
                                    <th>
                                        Ubicaci처n
                                    </th>
                                    <th>
                                        Prioridad
                                    </th>
                                    <th>
                                        Personal Asignado
                                    </th>
                                    <th>
                                        Estado
                                    </th>
                                    <th>
                                        Fecha Creaci처n
                                    </th>
                                    <th>
                                        Acciones
                                    </th>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let item of data">
                                        <ng-container *ngIf="categoriaSeleccionada && item.categoria == categoriaSeleccionada.id">
                                            <td class="text-center">
                                                {{item.id}}
                                            </td>
                                            <td class="col-3">
                                                {{item.descripcion}}
                                            </td>
                                            <td>
                                                <button mat-raised-button class="btn btn-danger btn-just-icon btn-round"
                                                    (click)="openModalMapa(item)">
                                                    <i class="material-icons">map</i>
                                                </button>
                                            </td>
                                            <td>
                                                {{item.prioridad}}
                                            </td>
                                            <td>
                                                {{item.personalAsignado}}
                                            </td>
                                            <td class="text-primary">
                                                {{item.estado}}
                                            </td>
                                            <td class="">
                                                {{item.fechaCreacion}}
                                            </td>
                                            <td class="">
                                                <button mat-raised-button class="btn btn-danger btn-just-icon btn-round"
                                                (click)="editarReporte(item)">
                                                    <i class="material-icons">edit</i>
                                                </button>
                                                <button mat-raised-button class="btn btn-danger btn-just-icon btn-round"
                                                (click)="eliminarReporte(item)">
                                                    <i class="material-icons">delete</i>
                                                </button>
                                            </td>
                                        </ng-container>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Grafico-->
            <div class="col-lg-12 col-md-12">
                <div class="card card-line">
                    <div class="row mx-2">
                        <mat-form-field class="col-4">
                            <mat-label>Etapas</mat-label>
                            <mat-select [formControl]="etapas" multiple>
                              <mat-option *ngFor="let topping of listaEtapas" [value]="topping">{{topping}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <div class="col-5">
                        </div>
                        <button mat-raised-button class="col-2 btn btn-danger"
                        (click)="filtrar()">
                            <span>Filtrar</span>
                        </button>
                    </div>
                    <div class="row linechart"></div>
                </div>
            </div>

            <div class="col-lg-12 col-md-12">
                <div class="card card-bar">
                    <div class="row mx-2">
                        <mat-form-field class="col-4">
                            <mat-label>Meses</mat-label>
                            <mat-select [formControl]="meses" multiple>
                              <mat-option *ngFor="let topping of listaMeses" [value]="topping">{{topping}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <div class="col-5">
                        </div>
                        <button mat-raised-button class="col-2 btn btn-danger"
                        (click)="filtrarPrioridad()">
                            <span>Filtrar</span>
                        </button>
                    </div>
                    <div class="promPrioridad"></div>

                </div>
            </div>


            <div class="col-lg-12 col-md-12">
                <div class="card">
                    <div class="mt-3">
                        <iframe id="frame"
                        title="Report Section" 
                        height="500px"
                        width="100%"
                        src="https://app.powerbi.com/view?r=eyJrIjoiYWVhZjJlODktYzA3ZC00MjRhLThkZDAtNGE5MzFhYzY5MTFlIiwidCI6ImI3YWY4Y2FmLTgzZDgtNDY0NC04NWFlLTMxN2M1NDUyMjNjMSIsImMiOjR9" frameborder="0" allowFullScreen="true"></iframe>
                    </div> 
                </div>
            </div>
            <div class="col-lg-12 col-md-12">
                <div class="card">
                    <div class="mt-3">
                        <iframe id="frame"
                        title="Report Section" 
                        height="500px"
                        width="100%"
                        src="https://app.powerbi.com/view?r=eyJrIjoiYjlhZWFlNjctYjQ5MS00MjQzLTgyNzEtYzQ1YWNiMTg3YmNmIiwidCI6ImI3YWY4Y2FmLTgzZDgtNDY0NC04NWFlLTMxN2M1NDUyMjNjMSIsImMiOjR9" 
                        frameborder="0" allowFullScreen="true"></iframe>
                    </div>
                </div>
            </div>

          </div>
      </div>
  </div>
</div>
